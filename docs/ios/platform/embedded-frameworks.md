---
title: Внедренные платформы
description: В этом документе описывается, как разработчики приложений можно внедрять в свои приложения платформы пользователя.
ms.prod: xamarin
ms.assetid: F8C61020-4106-46F1-AECB-B56C909F42CB
ms.technology: xamarin-ios
author: bradumbaugh
ms.author: brumbaug
ms.openlocfilehash: f223d8ef6e89cc44822b8a831dbba3cf71d727c9
ms.sourcegitcommit: 945df041e2180cb20af08b83cc703ecd1aedc6b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/04/2018
---
# <a name="embedded-frameworks"></a>Внедренные платформы

_В этом документе описывается, как разработчики приложений можно внедрять в свои приложения платформы пользователя._

С iOS 8.0 Apple становится возможным создание внедренного framework, могут совместно использовать код приложения расширения и основного приложения в Xcode.

Xamarin.iOS 9.0 добавляет поддержку использования такие внедренные платформы (созданные с помощью Xcode) в приложениях Xamarin.iOS. *Он будет **не** можно создавать внедренные платформы из любого типа проектов Xamarin.iOS, использовать только существующие собственного платформы (Objective-C).*

Для использования платформы в Xamarin.iOS двумя способами.

- Передайте в инструмент mtouch, платформа, добавив следующий код к аргументам дополнительных mtouch в проекте **сборка iOS** параметры:

  ```csharp
  --framework:/Path/To/My.Framework
  ```

  Это должно быть задано для каждой конфигурации проекта.

- Добавление ссылок в машинном коде из контекстного меню

# <a name="visual-studio-for-mactabvsmac"></a>[Visual Studio для Mac](#tab/vsmac)

Правой кнопкой мыши проект и обзора для добавления ссылок в машинном коде

![](embedded-frameworks-images/xam-native-refs.png "Выберите добавить собственные ссылки в Visual Studio для Mac")

# <a name="visual-studiotabvswin"></a>[Visual Studio](#tab/vswin)

Правой кнопкой мыши проект и обзора для добавления ссылок в машинном коде

![](embedded-frameworks-images/vs-native-refs.png "Выберите добавить собственные ссылки в Visual Studio")

-----

  Это будет работать для всех конфигураций.

В будущих версиях Visual Studio для Mac и средства Xamarin для Visual Studio будет можно использовать с платформами в Интегрированной среде разработки (без изменения файлов проекта вручную).

Несколько образцов проектов можно найти на [github](https://github.com/rolfbjarne/embedded-frameworks)

## <a name="limitations"></a>Ограничения

- Внедренные платформы поддерживаются только в [единой](~/cross-platform/macios/unified/index.md) проекты.
- Внедренные платформы поддерживаются только в проектах с целевым объектом развертывания по крайней мере iOS 8.0.
- Если требуется внедренные платформу для расширения, приложение контейнера также должно иметь ссылку на платформу, в противном случае платформа не включается в пакет приложения.

## <a name="the-mono-runtime"></a>Mono среды выполнения

Внутренне Xamarin.iOS использует эту функцию для связи с Mono времени выполнения, как структура, вместо статической компоновки Mono среды выполнения в каждый модуль и его контейнера.

Выполняется автоматически, если приложение контейнера является единой, он содержит расширения и целевого развертывания iOS 8.0 или более поздней версии.

Приложения без расширения будут по-прежнему подключить Mono времени выполнения статически, поскольку снижается, размер для использования платформы, если имеется только одно приложение, ссылающиеся на нее.

Это поведение может быть переопределен разработчиком приложения, добавив следующие дополнительные mtouch в качестве аргумента проекта iOS параметры построения:

- `--mono:static`: Связывает статически Mono среды выполнения.
- `--mono:framework`: Ссылки с помощью Mono среды выполнения, как структура.

Один сценарий для связывания с Mono времени выполнения, как структура даже для приложений без расширения — уменьшить размер исполняемого файла, для преодоления ограничений размера, принудительно применяет Apple исполняемый файл. Справочник по Mono среды выполнения добавляет около 1.7 МБ на архитектуру (как из Xamarin.iOS 8.12, однако его может различаться между версиями и даже между приложениями). Платформе Mono добавляет около 2.3 МБ на архитектуру, которая означает, что для одной архитектуры приложения без каких-либо расширений, что ссылка на приложение с исполняющей средой моно как платформу сжать исполняемый файл с ~1.7MB, но добавление ~2.3MB платформы, возникающие в в ~0.6MB больше приложения вместе.


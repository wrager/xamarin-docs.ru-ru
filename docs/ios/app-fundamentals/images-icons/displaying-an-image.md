---
title: Отображение изображения в Xamarin.iOS
description: В этой статье рассматриваются включая образа ОС в приложения Xamarin.iOS и отображение этого образа с помощью кода C# или назначив для элемента управления в конструкторе iOS.
ms.prod: xamarin
ms.assetid: 60288B12-49E3-4E87-8690-D04A5EC7A664
ms.technology: xamarin-ios
author: bradumbaugh
ms.author: brumbaug
ms.date: 04/24/2018
ms.openlocfilehash: 3ae63bb30c7759a1915939a2199d5ffc7dc75d15
ms.sourcegitcommit: ea1dc12a3c2d7322f234997daacbfdb6ad542507
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2018
ms.locfileid: "34784277"
---
# <a name="displaying-an-image-in-xamarinios"></a>Отображение изображения в Xamarin.iOS

_В этой статье рассматриваются включая образа ОС в приложения Xamarin.iOS и отображение этого образа с помощью кода C# или назначив для элемента управления в конструкторе iOS._

В этой статье подробно рассматриваются следующие темы:

- [Добавление и упорядочение изображений в приложении Xamarin.iOS](#adding-assets) - охватывает активы изображений и организации, как они могут быть включены, управляемых в рамках проекта Xamarin.iOS.
- [Добавление изображений в каталог средства](#asset-catalogs) -управление образами с каталогами активов.
    - [Использование векторных изображений в каталогах активов](#Using-Vector-Images-in-Asset-Catalogs) -все размеры изображения предоставив один вектор.
- [Работа с образами шаблона](#Working-with-Template-Images) -установив ресурса изображения, чтобы быть образ шаблона, разработчик может легко выделения цветом его в соответствии с изменениями в теме пользовательского интерфейса приложения, задав изображения `Tint` свойство.
- [Использование изображений с элементами управления](#controls) - деле с помощью образа средства, включенные в проект с помощью элементов управления пользовательского интерфейса, такие как Xamarin.iOS `UIButton` и `UIImageView` и работа с изображениями в C# с помощью `UIImage` объекта [FromBundle](#frombundle) метод.
- [Отображение изображения в раскадровки](#Displaying-an-Image-in-a-Storyboards) -пример отображения изображения с помощью раскадровки.
- [Отображение изображения в коде](#Displaying-an-Image-in-Code) -пример отображения изображения с помощью кода C#.

<a name="adding-assets" />

## <a name="adding-and-organizing-images-in-a-xamarinios-app"></a>Добавление и упорядочение изображений в приложении Xamarin.iOS

При добавлении изображения для использования в приложении Xamarin.iOS, разработчик будет использовать _каталога активов_ для поддержки всех устройств iOS и разрешения, необходимые для приложения.

Добавлено в iOS 7, **наборов изображений каталоги активов** содержат версии или представление изображения, необходимые для поддержки различных устройств и масштабировать факторы для приложения. Не полагаясь на имя файла изображения активы (см. [независимых изображения с разрешением и номенклатуру изображения](~/ios/app-fundamentals/images-icons/displaying-an-image.md)), **наборов изображений** позволяет указать, какой образ принадлежит какие устройства и/или разрешения Json-файла . Это предпочтительный способ управления и поддерживает образы в операций ввода-вывода (с iOS 9 или более поздней).

<a name="asset-catalogs" />

## <a name="adding-images-to-an-asset-catalog-image-set"></a>Добавление изображений в образ ОС каталога значение

Как упоминалось выше, **наборов изображений каталоги активов** содержат версии или представление изображения, необходимые для поддержки различных устройств и масштабировать факторы для приложения. Вместо имени файла изображения активы, **наборов изображений** позволяет указать, какой образ принадлежит какие устройства и/или разрешения Json-файла.

Чтобы создать новый набор изображения и добавление изображений к нему, выполните следующие действия:

# <a name="visual-studio-for-mactabvsmac"></a>[Visual Studio для Mac](#tab/vsmac)

1. В **обозревателе решений**, дважды щелкните `Assets.xcassets` файл, чтобы открыть его для редактирования:

    ![](displaying-an-image-images/imageset01.png "Assets.xcassets в обозревателе решений")
2. Щелкните правой кнопкой мыши **списка активов** и выберите **новый набор изображения**:

    ![](displaying-an-image-images/imageset02.png "Добавление нового набора изображений")
3. Выберите новый набор изображения и редакторе будет отображаться:

    ![](displaying-an-image-images/imageset03.png "Редактор набора изображений")
4. Отсюда, перетащите в изображениях для каждого из различных устройств и и необходимые разрешения. (Примечание:, предлагаемых решений совпадающих разрешения, указанные в [размеры изображения и имена файлов](~/ios/app-fundamentals/images-icons/displaying-an-image.md) документа.)
5. Дважды щелкните новый набор изображения **имя** в **списка активов** , чтобы изменить его: ![ ] (displaying-an-image-images/imageset04.png "редактирование имя нового набора изображений")

При использовании **задать изображение** в конструкторе iOS, просто выберите имя набора из раскрывающегося списка в редакторе свойств:

![](displaying-an-image-images/imageset06.png "Выберите из раскрывающегося списка имя набора изображением")

# <a name="visual-studiotabvswin"></a>[Visual Studio](#tab/vswin)

1. Откройте из каталога активов **обозревателе решений**, а в левом верхнем углу щелкните **, а также** кнопки:

    ![](displaying-an-image-images/asset5.png "Нажмите кнопку")

2. Выберите **добавить изображение набор** и редактор набора изображений будет отображаться для нового набора изображений. Отсюда, перетащите в изображениях для каждого из различных устройств и и необходимые разрешения. (Примечание:, предлагаемых решений совпадающих разрешения, указанные в [размеры изображения и имена файлов](~/ios/app-fundamentals/images-icons/displaying-an-image.md) документа):

    ![](displaying-an-image-images/asset7.png "Редактор набора изображений")

### <a name="renaming-an-image-set"></a>Переименование набора изображением

Чтобы переименовать набор изображений, выполните следующее:

1. В **обозревателе решений**, дважды щелкните **каталога активов** файл, чтобы открыть его для редактирования:

    ![](displaying-an-image-images/rename01.png "Каталог активов в обозревателе решений")
2. Выберите **задать изображение** переименование:

    ![](displaying-an-image-images/rename02.png "Выберите набор изображений, переименование")
3. В **свойства обозревателя**, прокрутите вниз и выберите **имя**(в разделе **Прочее** раздел):

    ![](displaying-an-image-images/rename03.png "Выберите имя в разделе «Прочее»")
4. Введите новый **имя** для **задать изображение** и сохраните изменения.

-----

При использовании **задать изображение** в коде, ссылаться на него по имени, вызвав `FromBundle` метод `UIImage` класса. Пример.

```csharp
MonkeyImage.Image = UIImage.FromBundle ("PurpleMonkey");
```

> [!IMPORTANT]
> Если изображения, назначенные набор изображений не обнаруживаются правильно, убедитесь, что используется правильное имя файла с `FromBundle` метод ( **задать изображение** , но не родителем **каталога активов** имя). Для изображения PNG `.png` расширение может быть опущено. Для других форматов изображений требуется расширение (например) `PurpleMonkey.jpg`).

<a name="Using-Vector-Images-in-Asset-Catalogs" />

### <a name="using-vector-images-in-asset-catalogs"></a>Использование векторных изображений в каталогах активов

Начиная с версии iOS 8, специальные **вектор** как были добавлены **наборов изображений** , разработчик может включать **PDF** векторного изображения в лоток вместо этого в том числе в формате отдельные растровые с различными разрешениями. С помощью этого метода указать файл один вектор для `@1x` разрешение (в формате PDF-файла вектор) и `@2x` и `@3x` версии файла будут создаваться во время компиляции и включенные в пакет приложения.

# <a name="visual-studio-for-mactabvsmac"></a>[Visual Studio для Mac](#tab/vsmac)

![](displaying-an-image-images/imageset05.png "Векторных изображений в редакторе каталоги активов")

# <a name="visual-studiotabvswin"></a>[Visual Studio](#tab/vswin)

![](displaying-an-image-images/asset8.png "Векторных изображений в редакторе каталоги активов")

-----

Например, если разработчик включает `MonkeyIcon.pdf` файл как вектор из каталога активов с разрешением x 150px 150 пикс., следующие активы должны быть включены в пакет окончательного приложения при его компиляции точечный рисунок:

- `MonkeyIcon@1x.png` -x 150px разрешение 150 пикс.
- `MonkeyIcon@2x.png` -x 300px разрешение 300 пикс.
- `MonkeyIcon@3x.png` -450px x 450px разрешения.

Ниже следует принять во внимание при использовании PDF векторных изображений в каталогах активов:

- Это не поддерживается полный вектор как PDF-ФАЙЛ будет растеризованного к растровому изображению во время компиляции и растровые изображения, поставляется в конечного приложения.
- Размер изображения не может быть скорректирована, после его установки в каталоге активов. Если разработчик пытается изменить размер изображения (или в коде или с помощью автоматический макет и размер классы) изображение будет искажен так же, как другие растрового изображения.
- Каталоги активов доступны только в совместим с iOS 7 и выше, если приложения должны поддерживать iOS 6 или более низкое значение, оно не может использовать каталоги активов.

<a name="Working-with-Template-Images" />

## <a name="working-with-template-images"></a>Работа с образами шаблонов

В зависимости от структуры приложения iOS, возможны ситуации при разработчику необходимо настроить значка или изображения в пользовательский интерфейс для соответствия Изменение цветовой схемы (например, на основе параметров пользователя).

Чтобы легко этого добиться, переключитесь _режим отрисовки_ средства изображения **образ шаблона**:

# <a name="visual-studio-for-mactabvsmac"></a>[Visual Studio для Mac](#tab/vsmac)

[![](displaying-an-image-images/templateimage01.png "Режим отрисовки значение образ шаблона")](displaying-an-image-images/templateimage01.png#lightbox)

# <a name="visual-studiotabvswin"></a>[Visual Studio](#tab/vswin)

[![](displaying-an-image-images/templateimage01vs.png "Режим отрисовки значение шаблона")](displaying-an-image-images/templateimage01vs.png#lightbox)

-----

IOS конструктор назначение ресурса изображения для элемента управления пользовательского интерфейса, а затем задать **оттенок** для выделения цветом изображения:

# <a name="visual-studio-for-mactabvsmac"></a>[Visual Studio для Mac](#tab/vsmac)

[![](displaying-an-image-images/templateimage03.png "Значение оттенка для выделения цветом изображения")](displaying-an-image-images/templateimage03.png#lightbox)

# <a name="visual-studiotabvswin"></a>[Visual Studio](#tab/vswin)

[![](displaying-an-image-images/templateimage03vs.png "Значение оттенка для выделения цветом изображения")](displaying-an-image-images/templateimage03vs.png#lightbox)

-----

При необходимости ресурса изображения и оттенок можно задать непосредственно в коде.

```csharp
MyIcon.Image = UIImage.FromBundle ("MessageIcon");
MyIcon.TintColor = UIColor.Red;
```

Чтобы использовать образ шаблона полностью из кода, выполните следующее:

```csharp
if (MyIcon.Image != null) {
    var mutableImage = MyIcon.Image.ImageWithRenderingMode (UIImageRenderingMode.AlwaysTemplate);
    MyIcon.Image = mutableImage;
    MyIcon.TintColor = UIColor.Red;
}
```

Поскольку `RenderMode` свойство `UIImage` — только для чтения, используйте `ImageWithRenderingMode` метод для создания нового экземпляра образа с выбранным параметром режим отрисовки.

Существует три возможно параметры для `UIImage.RenderMode` через `UIImageRenderingMode` перечисления:

* `AlwaysOriginal` -Принудительная изображение, которое отображается в виде изображения исходный файл без изменений.
* `AlwaysTemplate` -Принудительная изображения отображаются как образ шаблона, выделение цветом пикселей с указанным `Tint` цвет.
* `Automatic` -Либо обработки изображения, как шаблон или оригинала в зависимости от среды, используемой в. Например, если изображение используется в `UIToolBar`, `UINavigationBar`, `UITabBar` или `UISegmentControl` он будет рассматриваться как шаблон.

<a name="Adding-new-Assets-Collections" />

## <a name="adding-new-assets-collections"></a>Добавление новых коллекций активы

При работе с изображениями в каталогах активы возможны ситуации, когда будут необходимы, а не все образы приложения для добавления новой коллекции `Assets.xcassets` коллекции. Например, при разработке ресурсы по требованию.

Чтобы добавить новый каталог активы проекта:

# <a name="visual-studio-for-mactabvsmac"></a>[Visual Studio для Mac](#tab/vsmac)

1. Щелкните правой кнопкой мыши **имя проекта** в **обозревателе решений** и выберите **добавить** > **новый файл...**
2. Выберите **iOS** > **каталога активов**, введите **имя** коллекции и нажмите кнопку **New** кнопки:

    ![](displaying-an-image-images/asset01.png "Создание нового каталога активов")

# <a name="visual-studiotabvswin"></a>[Visual Studio](#tab/vswin)

1. В обозревателе решений щелкните правой кнопкой мыши **активов каталоги** папки, а затем выберите **Добавить > новый каталог активов**.
2. Присвойте ему имя и нажмите кнопку **добавить**:

    ![](displaying-an-image-images/asset1.png "Создание нового каталога активов")

-----


Здесь коллекции можно работать в так же, как значение по умолчанию `Assets.xcassets` коллекцию, автоматически включаются в проект.

<a name="controls" />

## <a name="using-images-with-controls"></a>Использование изображений с элементами управления

Помимо использования образов для поддержки приложения, операций ввода-вывода использует изображения с типами приложений управления полосы вкладки, панели инструментов, панели навигации, таблиц и кнопки. Простой способ сделать изображение отображается в элементе управления, — присвоить `UIImage` экземпляр элемента управления `Image` свойство.

<a name="frombundle" />

### <a name="frombundle"></a>FromBundle

`FromBundle` Вызов метода является синхронный вызов (блокировки), имеет ряд образ загрузки и функциям управления встроенной, например кэширование, поддержки и автоматической обработки файлов изображений для различных разрешений.  

В следующем примере показано, как задать изображение `UITabBarItem` на `UITabBar`:

```csharp
TabBarItem.Image = UIImage.FromBundle ("MyImage");
```

Предположим, что `MyImage` имя образа ОС добавлены в каталоге активов выше. При работе с образами каталога активов, просто укажите имя набора изображений в `FromBundle` метод **PNG** изображений в формате:

```csharp
TabBarItem.Image = UIImage.FromBundle ("MyImage");
```

Для любой другой формат изображения расширение с именем. Пример:

```csharp
TabBarItem.Image = UIImage.FromBundle ("MyImage.jpg");
```

Дополнительные сведения о значки и образах см. в документации Apple на [настраиваемый значок и правила создания образа](http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/MobileHIG/IconsImages/IconsImages.html).

<a name="Displaying-an-Image-in-a-Storyboards" />

## <a name="displaying-an-image-in-a-storyboards"></a>Отображение изображения в раскадровки

После добавления изображения в проект Xamarin.iOS, с помощью средства каталоги его можно легко отображаются на раскадровку с помощью `UIImageView` в конструкторе iOS. Например, если были добавлены следующие ресурса изображения:

# <a name="visual-studio-for-mactabvsmac"></a>[Visual Studio для Mac](#tab/vsmac)

![](displaying-an-image-images/display01.png "Добавлен пример ресурса изображения")

Выполните следующую команду, чтобы отобразить ее раскадровки.

1. Дважды щелкните `Main.storyboard` файла в **обозревателе решений** чтобы открыть его для редактирования в конструкторе iOS.
2. Выберите **изображения представление** из **элементов**:

     ![](displaying-an-image-images/display02.png "Выберите представление изображения из панели элементов")
3. Перетащите представление изображения в область конструктора и положение и размер его при необходимости.

    ![](displaying-an-image-images/display03.png "Новое представление изображения в области конструктора")
4. В **мини-приложение** раздел **обозреватель свойств** выберите нужную **изображения** активов для отображения:

    ![](displaying-an-image-images/display04.png "Выберите нужное изображение для отображения")
5. В **представление** используйте **режим** для управления как изображение будет изменяются, когда **представление изображения** изменяется.
6. С **представление изображения** выбран, щелкните ее еще раз, чтобы добавить **ограничения**:

    ![](displaying-an-image-images/display05.png "Добавление ограничений")
7. Перетащите маркер «T» были сформированы на каждой стороне **представление изображения** соответствующие части экрана, чтобы «закрепить» изображения по бокам. Таким образом **представление изображения** сжатие, но расти по мере изменения размеров экрана.
8. Сохраните изменения в раскадровку.

# <a name="visual-studiotabvswin"></a>[Visual Studio](#tab/vswin)

![](displaying-an-image-images/display01vs.png "Добавлен пример ресурса изображения")

Выполните следующую команду, чтобы отобразить ее раскадровки.

1. Дважды щелкните `Main.storyboard` файла в **обозревателе решений** чтобы открыть его для редактирования в конструкторе iOS.
2. Выберите **изображения представление** из **элементов**:

     ![](displaying-an-image-images/display02vs.png "Выберите представление изображения из панели элементов")
3. Перетащите представление изображения в область конструктора и положение и размер его при необходимости.

    ![](displaying-an-image-images/display03vs.png "Новое представление изображения в области конструктора")
4. В **мини-приложение** раздел **обозреватель свойств** выберите нужную **изображения** активов для отображения:

    ![](displaying-an-image-images/display04vs.png "Выберите нужное изображение для отображения")
5. В **представление** используйте **режим** для управления как изображение будет изменяются, когда **представление изображения** изменяется.
6. С **представление изображения** выбран, щелкните ее еще раз, чтобы добавить **ограничения**:

    ![](displaying-an-image-images/display05vs.png "Добавление ограничений")
7. Перетащите маркер «T» были сформированы на каждой стороне **представление изображения** соответствующие части экрана, чтобы «закрепить» изображения по бокам. Таким образом **представление изображения** сжатие, но расти по мере изменения размеров экрана.
8. Сохраните изменения в раскадровку.

-----


<a name="Displaying-an-Image-in-Code" />

## <a name="displaying-an-image-in-code"></a>Отображение изображения в коде

Так же, как отображения изображения в раскадровку, после добавления изображения в проект Xamarin.iOS, с помощью средства каталоги, его можно легко отобразить с использованием кода C#.

Рассмотрим следующий пример:

```csharp
// Create an image view that will fill the
// parent image view and set the image from
// an Image Asset

var imageView = new UIImageView (View.Frame);
imageView.Image = UIImage.FromBundle ("Kemah");

// Add the Image View to the parent view
View.AddSubview (imageView);
```

Этот код создает новый `UIImageView` и присваивает ему исходный размер и положение. Затем он загружает изображение из актива изображение добавляется в проект и добавляет `UIImageView` родительскому `UIView` для его отображения.

## <a name="related-links"></a>Связанные ссылки

- [Работа с изображениями (пример)](https://developer.xamarin.com/samples/WorkingWithImages/)
- [Hello, iPhone](~/ios/get-started/hello-ios/index.md)
- [Пользовательский значок и правила создания образа](http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/MobileHIG/IconsImages/IconsImages.html)

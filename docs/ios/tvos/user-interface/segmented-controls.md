---
title: Работа с tvOS сегментированных элементов управления в Xamarin
description: В этом документе описывается работа с tvOS сегментированных элементов управления в приложении, созданном с помощью Xamarin. В нем описывается сегмент значки и текст, события, изменение внешнего вида элемента управления и многое другое.
ms.prod: xamarin
ms.assetid: 23AD94CC-E93A-40B1-8E2B-ECD21FA355BE
ms.technology: xamarin-ios
author: bradumbaugh
ms.author: brumbaug
ms.date: 03/16/2017
ms.openlocfilehash: 8980f9fbf6996217dbcaec869e4c81598ac36552
ms.sourcegitcommit: ea1dc12a3c2d7322f234997daacbfdb6ad542507
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2018
ms.locfileid: "34789243"
---
# <a name="working-with-tvos-segmented-controls-in-xamarin"></a>Работа с tvOS сегментированных элементов управления в Xamarin

Сегментированный управления предоставляет набор линейной элементов, каждый из которых может содержать значок или текст и используется, чтобы предоставить набор вариантов, связанные с пользователем.

[![](segmented-controls-images/segment01.png "Примерами элементов управления сегмента")](segmented-controls-images/segment01.png#lightbox)

Apple имеет следующие рекомендации по работе с элементами управления сегментированных:

- **Вполне достаточно** -осторожностью следует взять вполне достаточно между другими [может иметь фокус элементов](~/ios/tvos/app-fundamentals/navigation-focus.md) и Сегментированный управления. Создает отдельный сегмент выделяется после фокус (не при щелчке) и пользователь может случайно изменить сегментов, если действительно требуется выбрать другой элемент может иметь фокус на текущий сегмент.
- **Использовать для фильтрации содержимого представления с разделением** -сегментированных элементы управления не принимать правильные решения для фильтрации как представления с разделением были разработаны для упрощения перемещения между содержимым и фильтры содержимого.
- **Ограничение на семь Max сегментов** -следует попытаться сохранить максимальное число сегментов ниже восьми (8), как это проще выполнить синтаксический анализ из двух зала на диване и проще для перехода.
- **Использовать одинаковый размер сегмента содержимого** — все сегменты имеют одинаковую ширину и, если это возможно, следует попытаться сохранить содержимое в каждом сегменте одинакового размера. Это не только позволяет визуально более привлекательным сегмент элементы управления, но позволяет облегчить чтение с одного взгляда.
- **Избегайте смешивание значки и текст** -каждый отдельный сегмент может содержать значок или текст, но не оба. Хотя можно комбинировать значки и текст в тот же элемент управления сегментированных, этого следует избегать.

<a name="About-Segment-Icons" />

## <a name="about-segment-icons"></a>О значках сегмента

Apple предполагает использование простой, распознаваемые изображений для значков сегмента, например увеличительного стекла для поиска. Излишне сложная значки, трудно распознать на экране ТВ в комнату, поэтому лучше ограничить значки для простого представления.

Нельзя смешивать текста и значков для конкретного сегмента, и не следует использовать значки и текст в сегментированных одного элемента управления. Следует все значки или весь текст.

<a name="Summary" />

## <a name="segment-text"></a>Сегмент текста

Apple вносит следующие рекомендации для работы с текстом сегмента:

- **Используйте короткое, может применяться существительных** -Сегмент Заголовок должен явно указывать тип содержимого, которое пользователь должен ожидать, что при выборе конкретного сегмента. Например: музыки и видео.
- **Используйте заглавные буквы регистр** -каждое слово сегментов заголовок должен быть прописной за исключением статей, союзы и союзы меньше, чем четырем (4) символов.
- **Используйте короткие, с фокусом ввода названия** -сохранять заголовки, краткое и ориентированы на тип содержимого, ожидаемых при выборе сегмента.

Снова нельзя смешивать текста и значков для конкретного сегмента, и не следует использовать значки и текст в сегментированных одного элемента управления.

<a name="Segment-Controls-and-Storyboards" />

## <a name="segment-controls-and-storyboards"></a>Элементы управления сегмента и раскадровки

Для работы с элементами управления сегмента в приложении Xamarin.tvOS проще всего добавить их с помощью iOS конструктор пользовательского интерфейса приложения.

# <a name="visual-studio-for-mactabvsmac"></a>[Visual Studio для Mac](#tab/vsmac)

1. В **Pad решения**, дважды щелкните файл `Main.storyboard` и откройте его для редактирования.
1. Перетащите **управления сегмента** из **элементов** и поместите его в представлении: 

    [![](segmented-controls-images/segment02.png "Элемент управления сегмента")](segmented-controls-images/segment02.png#lightbox)
1. В **вкладку графического** из **Pad свойство**, можно настроить несколько свойств элемента управления сегмента, такие как его **стиль** и **состояние**: 

    [![](segmented-controls-images/segment03.png "Вкладка мини-приложения")](segmented-controls-images/segment03.png#lightbox)
1. Используйте **сегменты** поле, чтобы управлять количество сегментов в контроллере.
1. Выберите из конкретного сегмента **раскрывающегося списка сегмент** для настройки его отдельные свойства, такие как **заголовок** или **изображения** и для элемента управления, если данный сегмент  **Включить** или **выбранные** при отображении элемента управления.
1. Наконец, назначьте **имена** к элементам управления, чтобы могли отвечать на них в коде C#. Пример: 

    [![](segmented-controls-images/segment04.png "Присвойте имя")](segmented-controls-images/segment04.png#lightbox)
1. Сохраните изменения.

# <a name="visual-studiotabvswin"></a>[Visual Studio](#tab/vswin)
    
1. В **обозревателе решений**, дважды щелкните файл `Main.storyboard` и откройте его для редактирования.
1. Перетащите **управления сегмента** из **элементов** и поместите его в представлении: 

    [![](segmented-controls-images/segment02-vs.png "Элемент управления сегмента")](segmented-controls-images/segment02-vs.png#lightbox)
1. В **вкладку графического** из **обозреватель свойств**, можно настроить несколько свойств элемента управления сегмента, такие как его **стиль** и **состояние**: 

    [![](segmented-controls-images/segment03-vs.png "Вкладка мини-приложения")](segmented-controls-images/segment03-vs.png#lightbox)
1. Используйте **сегменты** поле, чтобы управлять количество сегментов в контроллере.
1. Выберите из конкретного сегмента **раскрывающегося списка сегмент** для настройки его отдельные свойства, такие как **заголовок** или **изображения** и для элемента управления, если данный сегмент  **Включить** или **выбранные** при отображении элемента управления.
1. Наконец, назначьте **имена** к элементам управления, чтобы могли отвечать на них в коде C#. Пример: 

    [![](segmented-controls-images/segment04-vs.png "Присвойте имя")](segmented-controls-images/segment04-vs.png#lightbox)
1. Сохраните изменения.
    
-----

Дополнительные сведения о работе с помощью раскадровки см. в разделе нашей [Hello, tvOS краткое руководство по](~/ios/tvos/get-started/hello-tvos.md). 

<a name="Working-with-Segmented-Controls" />

## <a name="working-with-segmented-controls"></a>Работа с элементами управления сегментированных

Как упоминалось выше, s, сегментированных управления предоставляет набор линейной элементов, каждый из которых может содержать значок или текст и используется, чтобы предоставить набор вариантов, связанные с пользователем.

Существует несколько способов, которыми можно работать с элементами управления сегментированных Xamarin.tvOS приложения.

<a name="Exposed-as-Outlets-and-Actions" />

## <a name="exposed-as-names-and-events"></a>В виде названия и события

Если вы создали сегмента элемента управления в конструкторе интерфейса и виде с именем элемента управления и события для обеспечения соответствия изменяющимся сегмента можно использовать следующий код:

```csharp
partial void PlayerCountChanged (Foundation.NSObject sender) {

    // Take action based on the number of players selected
    switch(PlayerCount.SelectedSegment) {
    case 0:
        // Do something if the segment is selected
        ...
        break;
    case 1:
        // Do something if the segment is selected
        ...
        break;
    case 2:
        // Do something if the segment is selected
        ...
        break;
    }
}
```

В случае приведенном выше примере управления сегмента предоставляется как `PlayerCount` имя и `PlayerCountChanged` действие события. Дополнительные сведения о работе с действиями и выходами см. в разделе [написания кода с выходов и действия](~/ios/tvos/get-started/hello-tvos.md#Writing-the-Code) часть наших [Hello, tvOS краткое руководство по](~/ios/tvos/get-started/hello-tvos.md).

`SelectedSegment` Возвращает или задает индекс текущего выделенного сегмента как нуль (0) на основе. Следовательно, если имеется пять (5) сегментов, первый сегмент будет индекса нуль (0) и последний индекс четырем (4).

<a name="Modifying-Segments" />

## <a name="modifying-segments"></a>Изменение сегментов

В любое время можно изменить число и содержимое сегментированных элементов управления. Чтобы вставить новый значок сегмента, используйте следующий код:

```csharp
// Icon Segment
SegmentedControl.InsertSegment(UIImage.FromFile("icon.png"), 0, true);

// Text Segment
SegmentedControl.InsertSegment("New Segment", 0, true);
```

Второй параметр определяет, где сегмента будут вставлены с помощью с нуля (0) индекса. Если последний параметр является `true` insert будет анимации.

Для удаления конкретного сегмента, используйте следующую команду:

```csharp
SegmentedControl.RemoveSegmentAtIndex(0, true);
```

Или ниже, чтобы удалить все сегменты:

```csharp
SegmentedControl.RemoveAllSegments();
```

Опять же если последний параметр является `true`, удаление будет анимации. Используйте `NumberOfSegments` свойство для возврата текущего количества сегментов.

Для получения **заголовок** или **значок** конкретного сегмента, используйте следующее:

```csharp
// Get title
var title = SegmentedControl.TitleAt(0);

// Get icon
var icon = SegmentedControl.ImageAt(0);
```

И для изменения **заголовок** или **значок**, используйте следующие:

```csharp
// Set title
SegmentedControl.SetTitle("New Title", 0);

// Set icon
SegmentedControl.SetImage(UIImage.FromFile("icon.png"), 0);
```

Для получения конкретного сегмента **включено**, используйте следующие:

```csharp
if (SegmentedControl.IsEnabled(0)) {
    // Do something
    ...
}
```

И **Включение и отключение** имея сегмента, используйте следующие:

```csharp
SegmentedControl.SetEnabled(false, 0);
```

<a name="Modifying-the-Segmented-Controls-Appearance" />

## <a name="modifying-the-segmented-controls-appearance"></a>Изменение внешнего вида элемента управления сегментированных

Изменение фона данного сегмента в образ, можно использовать следующий код:

```csharp
SegmentedControl.SetBackgroundImage (UIImage.FromFile("background.png"), UIControlState.Normal, UIBarMetrics.Default);
```

Где `UIControlState` указывает состояние, которое устанавливается в качестве изображения для элемента управления:

- Норм.
- Выделено
- Отключено
- Selected
- Focused

И `UIBarMetrics` указывает метрики для использования в качестве:

- Значение по умолчанию
- Compact
- DefaultPrompt
- CompactPrompt

Кроме того можно задать разделитель между сегментами, с помощью:

```csharp
SegmentedControl.SetDividerImage (UIImage.FromFile("divider.png"), UIControlState.Normal, UIControlState.Normal, UIBarMetrics.Default);
```

Когда первый `UIControlState` указывает состояние участка слева от разделителя, а второй — `UIControlState` указывает состояние участка справа.

<a name="Summary" />

## <a name="summary"></a>Сводка

В этой статье был проиллюстрирован проектирование и работа с сегментированных управления внутри приложения Xamarin.tvOS.



## <a name="related-links"></a>Связанные ссылки

- [Примеры tvOS](https://developer.xamarin.com/samples/tvos/all/)
- [tvOS](https://developer.apple.com/tvos/)
- [tvOS человека направляющие интерфейса](https://developer.apple.com/tvos/human-interface-guidelines/)
- [Приложение руководство по программированию для tvOS](https://developer.apple.com/library/prerelease/tvos/documentation/General/Conceptual/AppleTV_PG/)

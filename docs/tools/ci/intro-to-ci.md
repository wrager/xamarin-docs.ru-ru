---
title: Введение в непрерывной интеграции с Xamarin
description: Непрерывная интеграция рекомендуется применять программного обеспечения в котором компилируется автоматизированной сборки и при необходимости проверяет приложения, когда добавляется или изменяется разработчиками в хранилище контроля версий проекта кода. В этой статье обсуждается основные принципы использования непрерывной интеграции и некоторые параметры, доступные для непрерывной интеграции с Xamarin проектами.
ms.prod: xamarin
ms.assetid: C034200E-2947-4309-9DDD-80DAC505C43F
author: topgenorth
ms.author: toopge
ms.date: 07/19/2017
ms.openlocfilehash: e441e3a2f967bf7bed0a236375ce708966fdb6eb
ms.sourcegitcommit: 0a72c7dea020b965378b6314f558bf5360dbd066
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/09/2018
---
# <a name="introduction-to-continuous-integration-with-xamarin"></a>Введение в непрерывной интеграции с Xamarin

_Непрерывная интеграция рекомендуется применять программного обеспечения в котором компилируется автоматизированной сборки и при необходимости проверяет приложения, когда добавляется или изменяется разработчиками в хранилище контроля версий проекта кода. В этой статье обсуждается основные принципы использования непрерывной интеграции и некоторые параметры, доступные для непрерывной интеграции с Xamarin проектами._

Чаще всего на проекты программного обеспечения разработчикам работать параллельно. Рано или поздно это необходимо для интеграции во всех случаях параллельных потоков работ в одну базу кода, содержащийся в окончательной версии продукта. В первых дней существования разработки программного обеспечения такая интеграция была выполнена в конце проекта, которое было сложно и рискованно процесса.

Непрерывной интеграции (CI) избежать таких сложностей путем слияния изменений, каждый разработчик в общий базовый подвергать код, обычно при возврате все разработчики изменения в проекте общий репозиторий кода. Каждый возврат запускает автоматизированной сборки и выполняет автоматические тесты и проверить, что вновь созданного кода не весь существующий код.  Таким образом CI немедленно предоставляет доступ к ошибок и проблем и гарантирует, что все члены команды следите за последними друг друга рабочих. Это приводит к целостного и стабильный базу кода.

Непрерывная интеграция системы имеют две основные части:

-  **Управление версиями** — версия элемента управления (VC), также называемый системы управления версиями или управление исходным кодом, весь код проекта объединяет в едином хранилище общих и отслеживает полная история каждого изменения ко всем файлам. Этот репозиторий часто называют *переходят* или *master* ветвление, содержит исходный код, который в конечном счете будет использоваться для создания рабочей среды или окончательной версии приложения. Существует много открытым исходным кодом и коммерческих продуктов для этой задачи, которые обычно позволяют командами или отдельными пользователями для ветвления копии кода на вторичный ветви, где можно внести значительные изменения и проведение экспериментов без риска в главную ветвь. После проверки изменений в ветви получателей их затем можно все вместе объединены в главную ветвь.
-  **Сервер непрерывной интеграции** — сервер непрерывной интеграции отвечает за сбор все артефакты проекта (исходный код, изображений, видео, баз данных, автоматические тесты, т. д.), компиляция приложения и выполнения автоматических тестов. Опять же существует множество открытым исходным кодом и коммерческих средства сервера CI.

Разработчики обычно имеют рабочую копию одной или нескольких ветвей на своих рабочих станциях, где изначально работу. После завершения работы с соответствующим набором изменений «извлеченный» или «зафиксирована» для соответствующего ветви не передаст их рабочие копии других разработчиков. Это, как команда гарантирует, что все они выполняют на тот же код.

Опять же с непрерывной интеграцией во время фиксации изменений вызывает CI server выполните построение проекта и запуск автоматических тестов для проверки корректности исходного кода. В случае ошибки построения или тестирования сбоев, CI server уведомляет ответственному разработчику (по электронной почте, обмена мгновенными Сообщениями, Twitter, Growl, т. д.), он или она может устранить проблему. (Серверы непрерывной Интеграции можно даже отказываться фиксации в случае сбоев, называемые «Условный возврат».)

Этот процесс показан на следующей схеме:

[![](intro-to-ci-images/intro01-small.png "Диаграмма иллюстрирует этот процесс")](intro-to-ci-images/intro01.png#lightbox)

Мобильные приложения представлены уникальные задачи для непрерывной интеграции. Приложения может потребоваться датчики, такие как координаты GPS или камеры, доступны только для физических устройств. Кроме того симуляторов или эмуляторах Visual Studio являются только приближением оборудования и может скрыть или скрывать проблемы. В конечном счете необходимо протестировать мобильное приложение на реальном оборудовании, чтобы быть уверенным, что это действительно заказчику.

[Центр тестирования приложения](https://docs.microsoft.com/appcenter/test-cloud) решает эту проблему, определенной, тестирование приложений непосредственно на сотнях физических устройств. Разработчикам писать принятия автоматических тестов, что позволит для мощных тестирования пользовательского интерфейса. Когда эти тесты отправляются центр приложений, CI server можно выполнить их автоматически в рамках процесса CI как показано на следующей схеме:

[![](intro-to-ci-images/intro02-small.png "Когда эти тесты отправляются центр приложений, CI server можно запускать их автоматически в рамках процесса CI как показано на этой диаграмме")](intro-to-ci-images/intro02.png#lightbox)

# <a name="components-of-continuous-integration"></a>Компоненты непрерывной интеграции

Имеется широкий экосистему коммерческих и открытый исходный код средства, предназначенные для поддержки элемента конфигурации. В этом разделе объясняется, некоторые из наиболее распространенных.

## <a name="version-control"></a>Управление версиями

### <a name="visual-studio-team-services-and-team-foundation-server"></a>Visual Studio Team Services и Team Foundation Server

[Visual Studio Team Services](https://www.visualstudio.com/products/visual-studio-team-services-vs) (VSTS) и [Team Foundation Server](http://msdn.microsoft.com/vstudio/ff637362.aspx) (TFS), средствами совместной работы корпорации Майкрософт для непрерывной интеграции сборки служб, отслеживание задач, гибкого планирования и создания отчетов средства и версии элемент управления. С системой управления версиями VSTS и TFS могут работать с свою собственную систему (системы управления версиями Team Foundation или TFVC) или проектов, размещенных на сайте GitHub.

 - Visual Studio Team Services предоставляет службы через облако. Основное преимущество заключается в том, что не требует специального оборудования или инфраструктуры и может осуществляться из любого места через веб-браузеры и популярные средства разработки — Visual Studio, делая привлекательным для команд, которые являются географически распределенные. Это бесплатно для команды разработчиков пять или меньше, после какие дополнительные лицензии можно приобрести для размещения растущего команды.
 - TFS разработан для серверов Windows в локальной среде и открыть с помощью локальной сети или VPN-подключение к этой сети. Его основное преимущество — полностью управлять конфигурации серверов сборки и можно установить необходимые любые дополнительное программное обеспечение или службы. TFS имеет бесплатный выпуск Express начального уровня для небольших команд.

TFS и VSTS тесно интегрирован с Visual Studio и разработчики могут выполнять многие системы управления версиями и CI задачи в любой из одной интегрированной среды разработки. Также доступен Team Explorer Everywhere подключаемый модуль для Eclipse (см. ниже). Visual Studio для Mac не обеспечивает никакой поддержки TFS или VSTS.

Система построения Visual Studio Team службы имеет прямую поддержку Xamarin проектов, в течение которых необходимо создать определение построения, для каждой платформы, которую вы хотите целевой (Android, iOS и Windows). Для каждого определения построения требуется соответствующая лицензия Xamarin. Можно также для локального подключения, поддержкой Xamarin TFS сборки сервера Visual Studio Team Services для этой цели. С помощью этой программы на локальном сервере будут делегированы построений, которые находятся в очереди VSTS. Дополнительные сведения см. в [развертывание и настройка сервера сборки](https://msdn.microsoft.com/library/ms181712.aspx). Кроме того можно использовать другой инструмент сборки, например Jenkins или Город команды.

Полный список всех возможностей управления жизненным циклом приложений (ALM) Visual Studio, Visual Studio Team Services и Team Foundation Server, см. в разделе [управления жизненным циклом приложений с помощью приложений Xamarin](https://msdn.microsoft.com/library/mt162217(v=vs.140).aspx) на сайте MSDN.


### <a name="team-explorer-everywhere"></a>Team Explorer Everywhere

[Team Explorer Everywhere](http://msdn.microsoft.com/library/gg413285.aspx) функционал Team Foundation Server и Visual Studio Team Services командам разработки вне Visual Studio. Она позволяет разработчикам подключение к командным проектам на локальном компьютере или в облаке, из Eclipse или кросс платформенных командной строки клиента для Linux и OS X. Team Explorer Everywhere обеспечивает полный доступ к системе управления версиями (включая Git), рабочие элементы и встраивать возможности для платформ, отличных от Windows.


### <a name="git"></a>Git

[Git](http://git-scm.com) — это решение управления версии открытым исходным кодом, которое было разработано для управления исходным кодом для ядро Linux. Это очень быстро и гибкую систему, который широко применяется в проектах программного обеспечения всех размеров. Она легко масштабируется от одного разработчиков с низкой доступ к Интернету больших команд международного класса. Git также облегчает процесс ветвления очень, который в свою очередь может порекомендовать параллельные потоки разработки с минимальным риском.

Git может работать только через веб-браузеры или с помощью [графического пользовательского интерфейса клиенты](http://git-scm.com/downloads/guis) , работающих на Mac OSX, Windows и Linux. Он распространяется бесплатно для открытых репозиториев; Требовать частных репозиториев [платного плана](https://github.com/pricing).

Visual Studio 2015 и Visual Studio для Mac поддерживают собственную реализацию для Git; для более старых версий, корпорация Майкрософт предоставляет [загружаемое расширение для Git](http://visualstudiogallery.msdn.microsoft.com/abafc7d6-dcaa-40f4-8a5e-d6724bdb980c). Как указано выше, Visual Studio Team Services и TFS можно использовать Git для управления версиями, а не TFVC.


### <a name="subversion"></a>Subversion

[Subversion](http://subversion.apache.org) (SVN) является популярным с открытым исходным системы управления версиями, которая была используется с 2000. SVN выполняется на все современные версии OS X, Windows, FreeBSD, Linux и Unix. Visual Studio для Mac имеет встроенную поддержку SVN. Существуют сторонние расширения, которые дать SVN поддержки Visual Studio.


## <a name="continuous-integration-environments"></a>Непрерывная интеграция сред

Настройка среды непрерывной интеграции означает одновременное использование системы управления версиями и службы сборки.  В последнем случае используется два наиболее распространенных:

- [Team Foundation Build](https://msdn.microsoft.com/Library/vs/alm/Build/overview) система построения Visual Studio Team Services и TFS. Тесно интегрирован с Visual Studio, которые основываются он удобен для разработчиков для запуска построения, автоматически выполнять тесты и просматривать результаты.
- Jenkins — сервер непрерывной Интеграции открытым исходным кодом, с широким спектром подключаемые модули для поддержки всех видов разработки программного обеспечения. Он работает в Windows и Mac OS X. Jenkins не интегрирована с любого конкретного интегрированной среды разработки. Вместо этого он настраивается и управляемых с помощью веб-интерфейса. Сервер Jenkins CI также можно легко установить и настроить, что делает его привлекательным для небольших команд.

TFS и VSTS можно использовать отдельно или Jenkins можно использовать в сочетании с TFS или VSTS или Git, как описано в следующих разделах.

### <a name="visual-studio-team-services-and-team-foundation-server"></a>Visual Studio Team Services и Team Foundation Server

Как отмечалось, Visual Studio Team Services и Team Foundation Server обеспечивает как версия управления и сборки служб. Службы построения всегда требуется лицензия Xamarin Business или Enterprise для каждой целевой платформы.

В Visual Studio Team Services необходимо создать отдельное определение сборки для каждой целевой платформы и существует соответствующая лицензия. После настройки VSTS будет выполняться построений и тестов в облаке. В разделе [Team Foundation Build](https://msdn.microsoft.com/Library/vs/alm/Build/overview) для получения дополнительных сведений.

С Team Foundation Server Настройка компьютера сборки следующим образом для определенных целевых платформ:

- **Android и Windows:** установите Visual Studio и Xamarin средства (для Android и Windows) и настройка с помощью лицензий Xamarin. Также необходимо переместить пакета SDK для Android в общую папку на сервере, где агент сборки TFS можно найти его. Дополнительные сведения см. в разделе [Настройка TFVC](https://docs.microsoft.com/vsts/tfvc/overview).
- **iOS и Xamarin:** установите Visual Studio и Xamarin средств на Windows server с соответствующей лицензии. Установите Visual Studio для Mac на компьютере Mac OS X доступным в сети, который будет служить в качестве узла сборки и создайте пакет конечного приложения (IPA для iOS, приложения для OS X).

На следующей схеме показана этот топографии:

[![](intro-to-ci-images/intro03-small.png "Диаграмма иллюстрирует этот топографии")](intro-to-ci-images/intro03.png#lightbox)

Можно также связать локальный сервер TFS с проектом Visual Studio Team Services, чтобы сборки VSTS делегируются на локальном сервере. Дополнительные сведения см. в разделе [развертывание и настройка сервера сборки](http://msdn.microsoft.com/library/ms181712.aspx) на сайте MSDN.

### <a name="visual-studio-team-services-and-jenkins"></a>Visual Studio Team Services и Jenkins

При использовании Jenkins создавать приложения, можно хранить код в Visual Studio Team Services или Team Foundation Server и продолжать использовать для сборок непрерывной Интеграции Jenkins. Вы можете активировать сборки Jenkins, при выполнении отправки кода репозитории командного проекта или при возврате кода в TFVC. Дополнительные сведения см. в разделе [Jenkins с Visual Studio Team Services](https://www.visualstudio.com/docs/marketplace/integrate/service-hooks/services/jenkins).

[![](intro-to-ci-images/intro04-small.png "При использовании Jenkins создавать приложения, можно хранить код в Visual Studio Team Services или Team Foundation Server и продолжать использовать для сборок непрерывной Интеграции Jenkins")](intro-to-ci-images/intro04.png#lightbox)

### <a name="git-and-jenkins"></a>Git и Jenkins

Другой общей средой CI может быть полностью OS X на основе. Этот сценарий включает в себя с помощью Git для управления исходным кодом и Дженкинса сервер сборки. Оба варианта работают на одном компьютере Mac OS X с помощью Visual Studio для Mac установлен. Это очень похоже на Visual Studio Team Services + Jenkins среды, описанные в предыдущем разделе:

[![](intro-to-ci-images/intro05-small.png "Это очень похоже на Visual Studio Team Services + среды Jenkins, рассмотренных в предыдущем подразделе")](intro-to-ci-images/intro05.png#lightbox)

> [!IMPORTANT]
> **Примечание: Jenkins — [не поддерживается в Xamarin](~/cross-platform/troubleshooting/questions/xamarin-jenkins.md).**


# <a name="summary"></a>Сводка

В этом документе появилась концепция непрерывной интеграции и преимущества, предоставляемая в командах разработчиков. А также роли и обязанности, передаваемые на сервер построения обсуждались важности системы управления версиями. Документ затем перешли обсудить некоторые средства, которые можно использовать для управления исходным кодом и серверах сборки. Мы также представили приложения центра тест, который помогает разработчикам публикации превосходных приложений, выполняя автоматические тесты, которым можно будет определить качество и функциональные возможности своих приложений. Более подробная документация по отправке приложения и тестов центр приложения можно найти [здесь](https://docs.microsoft.com/appcenter/test-cloud). Наконец чтобы понять, как взаимодействуют все эти средства и компоненты, описанный несколько различных сред элементов конфигурации, которые организаций могут устанавливать для непрерывной интеграции. С помощью Visual Studio Team Services и Team Foundation Server с проектами Xamarin Дополнительные сведения см. в разделе [Настройка TFVC](https://docs.microsoft.com/vsts/tfvc/overview) и это [введение непрерывной интеграции](https://docs.microsoft.com/vsts/build-release/actions/ci-cd-part-1). Аналогичным образом, если вы используете Jenkins, см. раздел [с помощью Jenkins, с помощью Xamarin](~/tools/ci/jenkins-walkthrough.md) подробные сведения о настройке непрерывной интеграции.

---
title: "Основные сведения об образце"
description: "В этом разделе Пошаговое руководство по Xamarin.Forms образец приложения, демонстрирующий, как соединиться с другой веб-службы. Хотя каждая веб-служба использует отдельный образец приложения, их функциональных возможностей схожих и совместно использовать общие классы."
ms.topic: article
ms.prod: xamarin
ms.assetid: A3FEB262-0D79-42E6-8F8B-A565618C490B
ms.technology: xamarin-forms
author: davidbritch
ms.author: dabritch
ms.date: 02/28/2017
ms.openlocfilehash: ab44cb7a065164bb5b7501ac63bd0321b612b7ca
ms.sourcegitcommit: 8e722d72c5d1384889f70adb26c5675544897b1f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2018
---
# <a name="understanding-the-sample"></a>Основные сведения об образце

_В этом разделе Пошаговое руководство по Xamarin.Forms образец приложения, демонстрирующий, как соединиться с другой веб-службы. Хотя каждая веб-служба использует отдельный образец приложения, их функциональных возможностей схожих и совместно использовать общие классы._

Образец приложения список дел, описанных ниже используется для демонстрации способов доступа к различных серверных системах web service, с помощью Xamarin.Forms. Он обеспечивает следующие функции:

- Просмотр списка задач.
- Добавление, изменение и удаление задачи.
- Задайте состояние задания на «Готово».
- Согласовать задачи поля имени и заметки.

Во всех случаях задачи хранятся в серверной части, к которому осуществляется через веб-службу.

При запуске приложения отображается страница, перечисляются все задачи, полученные из веб-службы и пользователь может создать новую задачу. Щелкнув задачу переходит на вторую страницу, где задачи можно редактировать, сохранить, удалять и произносятся приложения. Ниже показано итоговое приложение:

![](walkthrough-images/app-example-1.png "Приложение TODO — первая страница")
![](walkthrough-images/app-example-2.png "приложения Todo - вторая страница")

Каждый раздел в этом руководстве приводится ссылка для *разные* версии приложения, демонстрирующий определенного типа серверной службы web. Загрузите соответствующий образец кода на странице, относящиеся к каждого стиля веб службы.

## <a name="understanding-the-application-anatomy"></a>Основные сведения о структуре приложения

Проект переносимой библиотеки Классов для каждого образца приложения состоит из трех основных папок:

|Папка|Цель|
|--- |--- |
|Данные|Содержит классы и интерфейсы, используемые для управления элементами данных и взаимодействовать с веб-службой. Сюда входят как минимум `TodoItemManager` класс, который предоставляется с помощью свойства в `App` для вызова операций веб-службы.|
|Модели|Классы модели данных для приложения. Сюда входят как минимум `TodoItem` класс, который моделирует один элемент данных, используемых приложением. Папка также может включать любые дополнительные классы, используемые для пользовательских данных модели.|
|Представления|Содержит страницы для приложения. Это обычно состоит из `TodoListPage` и `TodoItemPage` классы и любые дополнительные классы, используемые для проверки подлинности.|

Проект переносимой библиотеки Классов для каждого приложения также состоит из нескольких важных файлов:

|Файл|Цель|
|--- |--- |
|Constants.cs|`Constants` Класс, который задает константы, используемые приложением для взаимодействия с веб-службой. Эти константы требуется обновление для доступа к службе личные базы данных создана в поставщике.|
|ITextToSpeech.cs|`ITextToSpeech` Интерфейс, который указывает, что `Speak` должен предоставить метод любыми реализующими классами.|
|TODO.cs|`App` Класс, который отвечает за создание экземпляров обоих первой страницы, отображаемый приложением на каждой из платформ, и `TodoItemManager` класс, который используется для вызова операций веб-службы.|

### <a name="viewing-pages"></a>Просмотр страниц

Большинство примеров приложений содержат по крайней мере две страницы:

- **TodoListPage** — Эта страница содержит перечень `TodoItem` экземпляров и значок галочки Если `TodoItem.Done` свойство `true`. Если щелкнуть элемент переходит к `TodoItemPage`. Кроме того, новые элементы могут быть созданы, щелкнув  *+*  символов.
- **TodoItemPage** — на этой странице отображаются сведения для выбранного `TodoItem`и позволяет изменять, сохранять, удалить и произношении.

Кроме того некоторые примеры приложений содержат дополнительные страницы, которые используются для управления процессом проверки подлинности пользователя.

### <a name="modeling-the-data"></a>Моделирование данных

Каждый пример приложения использует `TodoItem` класса для моделирования данных, отображаются и отправляются в веб-службу для хранения данных. Следующий пример кода демонстрирует класс `TodoItem`:

```csharp
public class TodoItem
{
    public string ID { get; set; }
    public string Name { get; set; }
    public string Notes { get; set; }
    public bool Done { get; set; }
}
```

`ID` Свойство используется для уникальной идентификации каждого `TodoItem` экземпляром и используется каждой веб-службы для определения данных следует обновить или удалить.

### <a name="invoking-web-service-operations"></a>Вызов операции веб-службы

Операции веб-службы осуществляется с помощью `TodoItemManager` класс и экземпляр класса может осуществляться через `App.TodoManager` свойство. `TodoItemManager` Класс предоставляет следующие методы для вызова операций веб-службы:

- **GetTasksAsync** — этот метод используется для заполнения `ListView` управления `TodoListPage` с `TodoItem` получить экземпляры веб-службы.
- **SaveTaskAsync** — этот метод используется для создания или обновления `TodoItem` экземпляр веб-службы.
- **DeleteTaskAsync** — этот метод используется для удаления `TodoItem` экземпляр веб-службы.

Кроме того, некоторые примеры приложений содержат дополнительные методы в `TodoItemManager` классе, которое используется для управления процессом проверки подлинности пользователя.

Вместо того чтобы вызывать операции веб-службы непосредственно, `TodoItemManager` методы вызова методов в зависимых класс, который вставляется в `TodoItemManager` конструктора. Например, один образец приложения внедряет `SimpleDBStorage` класса в `TodoItemManager` конструктор для реализации, который вызывает операции службы Amazon SimpleDB.

### <a name="translating-text-to-speech"></a>Преобразование текста в речь

Большинство примеров приложений содержат функциональные возможности преобразования текста в речь (TTS) оперировать значения `TodoItem.Name` и `TodoItem.Notes` свойства. Это достигается путем `OnSpeakActivated` обработчик событий в `TodoItemPage` класса, как показано в следующем примере кода:

```csharp
void OnSpeakActivated (object sender, EventArgs e)
{
    var todoItem = (TodoItem)BindingContext;
    App.Speech.Speak(todoItem.Name + " " + todoItem.Notes);
}
```

Этот метод просто вызывает `Speak` метод, реализуемый конкретную платформу `Speech` класса. Каждый `Speech` класс реализует `ITextToSpeech` интерфейс, и код запуска платформой создает экземпляр `Speech` класс, который можно получить с помощью `App.Speech` свойство.

## <a name="summary"></a>Сводка

В этом разделе предоставляется пошаговое руководство по Xamarin.Forms образец приложения, который используется для демонстрации взаимодействия с другой веб-службы. Во время каждой веб-службы используется отдельный образец приложения, они создаются на основе пользовательского интерфейса и бизнес-логики как описано выше, — отличается только web service механизм хранения данных.


## <a name="related-links"></a>Связанные ссылки

- [Версия ASMX (пример)](https://developer.xamarin.com/samples/xamarin-forms/WebServices/TodoASMX)
- [Версия WCF (пример)](https://developer.xamarin.com/samples/xamarin-forms/WebServices/TodoWCF)
- [Версия REST (пример)](https://developer.xamarin.com/samples/xamarin-forms/WebServices/TodoREST)
- [Azure версии (пример)](https://developer.xamarin.com/samples/xamarin-forms/WebServices/TodoAzure)
- [Версия Amazon Web Services (пример)](https://developer.xamarin.com/samples/xamarin-forms/WebServices/TodoAWS)

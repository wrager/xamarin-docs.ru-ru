---
title: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
ms.prod: xamarin
ms.assetid: a150f2d1-06f8-4aed-ab4e-7a847d69f103
ms.technology: xamarin-forms
author: davidbritch
ms.author: dabritch
ms.date: 08/07/2017
ms.openlocfilehash: 8db8e5b756fe770bdf292ec03c28eb5ed54acf9e
ms.sourcegitcommit: 945df041e2180cb20af08b83cc703ecd1aedc6b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/04/2018
---
# <a name="dependency-injection"></a>–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ –∏ –ª—é–±—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –≠—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–æ–º –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞*. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–±—ä–µ–∫—Ç –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.

–£–∫–∞–∑–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫–∞–∫ —Ç–∏–ø—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–¥–µ–ª–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏–∑ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —ç—Ç–∏—Ö —Ç–∏–ø–æ–≤. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–ª–∏ —Ä–∞—Å—à–∏—Ä—è—é—Ç —ç—Ç–∏ —Ç–∏–ø—ã.

–°—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–∞–∫–∂–µ –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ *–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –º–µ—Ç–æ–¥ –∑–∞–¥–∞–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤–∞*, –∏ *–ø—É—Ç–µ–º –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∫–æ–¥–∞ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞*, –Ω–æ –Ω–∞–∏–º–µ–Ω–µ–µ —á–∞—Å—Ç–æ –æ–Ω–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –≤ —ç—Ç–æ–π –≥–ª–∞–≤–µ –±—É–¥—É—Ç —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

<a name="introduction_to_dependency_injection" />

## <a name="introduction-to-dependency-injection"></a>–û–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —à–∞–±–ª–æ–Ω–∞ –∏–Ω–≤–µ—Ä—Å–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (IoC) –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –° –ø–æ–º–æ—â—å—é –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥—Ä—É–≥–æ–π –∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –æ–±—ä–µ–∫—Ç –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–¥–∞ –ø–æ–∫–∞–∑–∞–Ω —Å–ø–æ—Å–æ–± `ProfileViewModel` –∫–ª–∞—Å—Å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω, –∫–æ–≥–¥–∞ —Å –ø–æ–º–æ—â—å—é –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```csharp
public class ProfileViewModel : ViewModelBase  
{  
    private IOrderService _orderService;  

    public ProfileViewModel(IOrderService orderService)  
    {  
        _orderService = orderService;  
    }  
    ...  
}
```

`ProfileViewModel` –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç `IOrderService` —ç–∫–∑–µ–º–ø–ª—è—Ä –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, –≤–≤–µ–¥–µ–Ω–Ω—ã–π –≤ –¥—Ä—É–≥–æ–º –∫–ª–∞—Å—Å–µ. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ç–æ–ª—å–∫–æ –≤ `ProfileViewModel` –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è —Ç–∏–ø–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º `ProfileViewModel` –∫–ª–∞—Å—Å –Ω–µ –∏–º–µ–µ—Ç –∫–∞–∫–∏—Ö-–ª–∏–±–æ –∑–Ω–∞–Ω–∏–π –∫–ª–∞—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `IOrderService` –æ–±—ä–µ–∫—Ç–∞. –ö–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ `IOrderService` –æ–±—ä–µ–∫—Ç–∞ –∏ –∏—Ö –≤—Å—Ç–∞–≤–∫–∞ –≤ `ProfileViewModel` –∫–ª–∞—Å—Å–∞, –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π*.

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è –≤–≤–µ–¥–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —É–º–µ–Ω—å—à–∏—Ç—å –≤–∑–∞–∏–º–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–ª–∞—Å—Å–∞ –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏—Ö –≤—Ä–µ–º—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è, –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤–Ω–µ–¥—Ä—è–µ—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ –≤ –µ–≥–æ. –ï—Å–ª–∏ —ç—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –±—ã–ª —Å–æ–∑–¥–∞–Ω, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–∑–¥–∞–µ—Ç –∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–Ω–∞—á–∞–ª–∞.

> [!NOTE]
> –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–æ–∂–µ—Ç —Ç–∞–∫–∂–µ –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤—Ä—É—á–Ω—É—é —Å –ø–æ–º–æ—â—å—é —Ñ–∞–±—Ä–∏–∫. –û–¥–Ω–∞–∫–æ —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–±–æ—Ä–æ–∫ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

-   –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–ª—è –∫–ª–∞—Å—Å–∞ –Ω–∞–π—Ç–∏ –µ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è.
-   –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –∫–ª–∞—Å—Å.
-   –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –ø–æ–∑–≤–æ–ª—è—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.
-   –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–≤—ã—à–∞–µ—Ç —É–¥–æ–±—Å—Ç–≤–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –ø–æ–∑–≤–æ–ª—è—è –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Xamarin.Forms, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MVVM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ–±—ã—á–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è, –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä –º–æ–¥–µ–ª–µ–π, –∞ —Ç–∞–∫–∂–µ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–ª—É–∂–± –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Ö –≤ –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —Å –º–æ–±–∏–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º eShopOnContainers, —Å –ø–æ–º–æ—â—å—é Autofac –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –∏ –∫–ª–∞—Å—Å—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å–ª—É–∂–±—ã. Autofac –æ–±–ª–µ–≥—á–∞–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ª–∞–±–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∞ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –≤–∫–ª—é—á–∞—è –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –≤—Å—Ç–∞–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ Autofac —Å–º. –≤ —Ä–∞–∑–¥–µ–ª–µ [Autofac](http://autofac.readthedocs.io/en/latest/index.html) –Ω–∞ readthedocs.io.

–í Autofac `IContainer` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –†–∏—Å—É–Ω–æ–∫ 3-1 –ø–æ–∫–∞–∑–∞–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä `IOrderService` –æ–±—ä–µ–∫—Ç–∞ –∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ `ProfileViewModel` –∫–ª–∞—Å—Å–∞.

![](dependency-injection-images/dependencyinjection.png "–ù–∞–ø—Ä–∏–º–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ–≥–¥–∞ —Å –ø–æ–º–æ—â—å—é –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏")

**–†–∏—Å—É–Ω–æ–∫ 3-1:** –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, –∫–æ–≥–¥–∞ —Å –ø–æ–º–æ—â—å—é –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–Ω–∞—Ç—å, –∫–∞–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `IOrderService` —Å–ª–µ–¥—É–µ—Ç —Å–æ–∑–¥–∞—Ç—å, –ø—Ä–µ–∂–¥–µ —á–µ–º –æ–Ω –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `ProfileViewModel` –æ–±—ä–µ–∫—Ç–∞. –í–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:

-   –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä, –¥–ª—è —Ç–æ–≥–æ —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç `IOrderService` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏*.
-   –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `IOrderService` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ `ProfileViewModel` –æ–±—ä–µ–∫—Ç–∞. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ*.

–í –∫–æ–Ω–µ—á–Ω–æ–º —Å—á–µ—Ç–µ, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ —Å –ø–æ–º–æ—â—å—é `ProfileViewModel` –æ–±—ä–µ–∫—Ç –∏ –æ–Ω —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞. –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —Å–ª–µ–¥—É–µ—Ç –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ `IOrderService` —ç–∫–∑–µ–º–ø–ª—è—Ä–∞, –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä.

> [!TIP]
> –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–¥, –∑–∞–≤–∏—Å—è—â–∏–π –æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –í—Å–µ–≥–¥–∞ –ø—ã—Ç–∞—Ç—å—Å—è –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥, –∑–∞–≤–∏—Å—è—â–∏–π –æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –æ—Ç–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π.

## <a name="registration"></a>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

–ü—Ä–µ–∂–¥–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –æ–±—ä–µ–∫—Ç, —Ç–∏–ø—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —Å–Ω–∞—á–∞–ª–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º. –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–∏–ø–∞ –æ–±—ã—á–Ω–æ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –ø–µ—Ä–µ–¥–∞—á–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –∏ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–¥–∞:

-   –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Ç–∏–ø –∏–ª–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞.
-   –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –º–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∫–∞–∫ Singleton-–∫–ª–∞—Å—Å. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

> [!TIP]
> –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è –≤–≤–µ–¥–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–µ –≤—Å–µ–≥–¥–∞ –ø–æ–¥—Ö–æ–¥–∏—Ç. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–ª–∏ –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ï—Å–ª–∏ –∫–ª–∞—Å—Å –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∏–ª–∏ –Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤, –æ–Ω –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –µ–≥–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ. –ö—Ä–æ–º–µ —Ç–æ–≥–æ –ï—Å–ª–∏ —É –∫–ª–∞—Å—Å–∞ –∏–º–µ–µ—Ç—Å—è –æ–¥–∏–Ω –Ω–∞–±–æ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è –Ω–µ–æ—Ç—ä–µ–º–ª–µ–º–æ–π —á–∞—Å—Ç—å—é —Ç–∏–ø–∞ –∏ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è, –æ–Ω –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –µ–≥–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Ç–æ–¥–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –∏ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å—Å—è —Ä–∞–Ω–Ω–∏—Ö —ç—Ç–∞–ø–∞—Ö –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–Ω–∞—Ç—å –æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö –º–µ–∂–¥—É –µ–≥–æ –∫–ª–∞—Å—Å—ã. –í –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ eShopOnContainers —ç—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—É—Ç–µ–º `ViewModelLocator` –∫–ª–∞—Å—Å–∞, –∫–∞–∫–∏–µ —Å–±–æ—Ä–∫–∏ `IContainer` –æ–±—ä–µ–∫—Ç–∞ –∏ —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∫–ª–∞—Å—Å–æ–º, –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –∫–æ—Ç–æ—Ä–æ–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç. –í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–¥–∞ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ –æ–±—ä—è–≤–ª—è–µ—Ç –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è eShopOnContainers `IContainer` –æ–±—ä–µ–∫—Ç–∞ –≤ `ViewModelLocator` –∫–ª–∞—Å—Å–∞:

```csharp
private static IContainer _container;
```

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –∏ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –≤ `RegisterDependencies` –º–µ—Ç–æ–¥ `ViewModelLocator` –∫–ª–∞—Å—Å–∞. –≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –ø—É—Ç–µ–º –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è `ContainerBuilder` —ç–∫–∑–µ–º–ø–ª—è—Ä–∞, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–¥–∞:

```csharp
var builder = new ContainerBuilder();
```

–¢–∏–ø—ã –∏ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∑–∞—Ç–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è `ContainerBuilder` –æ–±—ä–µ–∫—Ç–∞, –∞ —Ç–∞–∫–∂–µ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–¥–∞ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–∏–ø–∞:

```csharp
builder.RegisterType<RequestProvider>().As<IRequestProvider>();
```

`RegisterType` –ú–µ—Ç–æ–¥, –ø–æ–∫–∞–∑–∞–Ω–Ω—ã–π –∑–¥–µ—Å—å —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø —è–≤–ª—è–µ—Ç—Å—è —Ç–∏–ø–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –û–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `RequestProvider` –æ–±—ä–µ–∫—Ç–∞, –∫–æ–≥–¥–∞ –æ–Ω —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç—Å—è –í—Å—Ç–∞–≤–∫–∞ `IRequestProvider` —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.

–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ, –±–µ–∑ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–∑ —Ç–∏–ø–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–¥–∞:

```csharp
builder.RegisterType<ProfileViewModel>();
```

–ö–æ–≥–¥–∞ `ProfileViewModel` —Ç–∏–ø —Ä–∞–∑—Ä–µ—à–µ–Ω–∞, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç –≤–≤–µ—Å—Ç–∏ –µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

Autofac –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞, –≥–¥–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤–µ–¥–µ–Ω–∏–µ —Å—Å—ã–ª–∫—É –Ω–∞ –æ–¥–Ω–æ—ç–ª–µ–º–µ–Ω—Ç–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Ç–∏–ø–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–¥–∞ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ eShopOnContainers –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∏ `ProfileViewModel` —ç–∫–∑–µ–º–ø–ª—è—Ä –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å `IOrderService` —ç–∫–∑–µ–º–ø–ª—è—Ä:

```csharp
builder.RegisterType<OrderService>().As<IOrderService>().SingleInstance();
```

`RegisterType` –ú–µ—Ç–æ–¥, –ø–æ–∫–∞–∑–∞–Ω–Ω—ã–π –∑–¥–µ—Å—å —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø —è–≤–ª—è–µ—Ç—Å—è —Ç–∏–ø–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. `SingleInstance` –ú–µ—Ç–æ–¥ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω `OrderService` —ç–∫–∑–µ–º–ø–ª—è—Ä –±—É–¥–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –æ–±—â–∏–º –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –≤–≤–µ–¥–µ–Ω–∏—è `IOrderService` —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å `RegisterInstance` –º–µ—Ç–æ–¥–∞, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–¥–∞:

```csharp
builder.RegisterInstance(new OrderMockService()).As<IOrderService>();
```

`RegisterInstance` –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥, –ø–æ–∫–∞–∑–∞–Ω–Ω—ã–π –∑–¥–µ—Å—å `OrderMockService` —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –µ–≥–æ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω `OrderMockService` —ç–∫–∑–µ–º–ø–ª—è—Ä —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –æ–±—â–∏–º –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –≤–≤–µ–¥–µ–Ω–∏—è `IOrderService` —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.

–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–∏–ø –∏ —ç–∫–∑–µ–º–ø–ª—è—Ä, `IContainer` –æ–±—ä–µ–∫—Ç–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã, —á—Ç–æ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–¥–∞:

```csharp
_container = builder.Build();
```

–í—ã–∑–æ–≤ `Build` –º–µ—Ç–æ–¥ `ContainerBuilder` —ç–∫–∑–µ–º–ø–ª—è—Ä —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –≤–Ω–µ—Å–µ–Ω—ã.

>üí° **–°–æ–≤–µ—Ç**: —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å `IContainer` –∫–∞–∫ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π. –•–æ—Ç—è Autofac –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç `Update` –º–µ—Ç–æ–¥ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤—ã–∑–æ–≤ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Å–ª–µ–¥—É–µ—Ç –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑–±–µ–≥–∞—Ç—å. –°—É—â–µ—Å—Ç–≤—É—é—Ç —É–≥—Ä–æ–∑—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Å–ª–µ –±—ã–ª –ø–æ—Å—Ç—Ä–æ–µ–Ω, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è —Å–º. –≤ —Ä–∞–∑–¥–µ–ª–µ [—Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∫–∞–∫ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–≥–æ](http://docs.autofac.org/en/latest/best-practices/#consider-a-container-as-immutable) –Ω–∞ readthedocs.io.

<a name="resolution" />

## <a name="resolution"></a>–†–µ—à–µ–Ω–∏–µ

–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–∏–ø–∞ –µ–≥–æ –º–æ–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å. –ï—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä, –æ–Ω –≤—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —ç–∫–∑–µ–º–ø–ª—è—Ä.

–ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ –∫–æ–≥–¥–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω —Ç–∏–ø, –æ–¥–Ω–æ –∏–∑ —Ç—Ä–µ—Ö –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1.  –ï—Å–ª–∏ —Ç–∏–ø –Ω–µ –±—ã–ª –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.
1.  –ï—Å–ª–∏ —Ç–∏–ø –±—ã–ª –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ Singleton-–∫–ª–∞—Å—Å, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω–æ—ç–ª–µ–º–µ–Ω—Ç–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä. –ï—Å–ª–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Ç–∏–ø–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –µ–≥–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–µ—Ç –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ–≥–æ.
1.  –ï—Å–ª–∏ —Ç–∏–ø –Ω–µ –±—ã–ª –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ Singleton-–∫–ª–∞—Å—Å, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ–≥–æ.

–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–¥–∞ –ø–æ–∫–∞–∑–∞–Ω —Å–ø–æ—Å–æ–± `RequestProvider` —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω —Å Autofac –º–æ–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å:

```csharp
var requestProvider = _container.Resolve<IRequestProvider>();
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è Autofac –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è `IRequestProvider` —Ç–∏–ø–∞, –∞ —Ç–∞–∫–∂–µ –ª—é–±—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ `Resolve` –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞. –°–≤–µ–¥–µ–Ω–∏—è –æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–µ [—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–∞ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –æ–±—ä–µ–∫—Ç–∞–º–∏](#managing_the_lifetime_of_resolved_objects).

–í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–¥–∞ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ eShopOnContainers –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –º–æ–¥–µ–ª–∏ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∏–ø–æ–≤ –∏ –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

```csharp
var viewModel = _container.Resolve(viewModelType);
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ Autofac –±—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ç–∏–ø –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –¥–ª—è –º–æ–¥–µ–ª–∏ —Ç—Ä–µ–±—É–µ–º–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±—É–¥–µ—Ç —Ç–∞–∫–∂–µ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ü—Ä–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ `ProfileViewModel` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ç–∏–ø–∞ `IOrderService` –æ–±—ä–µ–∫—Ç–∞. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–µ—Ç Autofac `OrderService` –æ–±—ä–µ–∫—Ç–∞, –∞ –∑–∞—Ç–µ–º –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–≥–æ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `ProfileViewModel` –∫–ª–∞—Å—Å–∞. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ –∫–∞–∫ eShopOnContainers –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç –∏—Ö —Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è–º–∏, —Å–º. –≤ —Ä–∞–∑–¥–µ–ª–µ [–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å –ª–æ–∫–∞—Ç–æ—Ä–∞ –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è](~/xamarin-forms/enterprise-application-patterns/mvvm.md#automatically_creating_a_view_model_with_a_view_model_locator).

> [!NOTE]
> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑-–∑–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ç—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–æ—Å—Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –ï—Å–ª–∏ –∏–º–µ–µ—Ç—Å—è –º–Ω–æ–≥–æ –∏–ª–∏ –≥–ª—É–±–æ–∫–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–∂–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –≤–æ–∑—Ä–∞—Å—Ç–∏.

<a name="managing_the_lifetime_of_resolved_objects" />

## <a name="managing-the-lifetime-of-resolved-objects"></a>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç–∏–ø–∞, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è Autofac ‚Äî –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –∫–∞–∂–¥—ã–π —Ä–∞–∑ —Ç–∏–ø–∞ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –∏–ª–∏ –∫–æ–≥–¥–∞ –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤–Ω–µ–¥—Ä—è–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –≤ –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ–±—ä–µ–∫—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è Autofac —è–≤–ª—è–µ—Ç—Å—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –∫–∞–∫ Singleton-–∫–ª–∞—Å—Å. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –æ–±–ª–∞—Å—Ç–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–±–ª–∞—Å—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∞ —Ç–∞–∫–∂–µ —É–¥–∞–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –æ–±–ª–∞—Å—Ç–∏ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞ –∏–ª–∏ –∫–æ–¥ —è–≤–Ω–æ —É–¥–∞–ª—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

–í –æ–±–ª–∞—Å—Ç–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Autofac –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è singleton –¥–ª—è –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç Autofac –∏–∑ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞. Autofac —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±–ª–∞—Å—Ç–µ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–æ–≤, —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º. –û–±–ª–∞—Å—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è `RegisterType` –º–µ—Ç–æ–¥ `InstancePerDependency` –æ–±–ª–∞—Å—Ç–∏. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ `SingleInstance` –æ–±–ª–∞—Å—Ç—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å `RegisterType` –º–µ—Ç–æ–¥–∞, —á—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω–æ—ç–ª–µ–º–µ–Ω—Ç–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Ç–∏–ø–∞, –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `Resolve` –º–µ—Ç–æ–¥–∞. –í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–¥–∞ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ Autofac –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –æ–¥–Ω–æ—ç–ª–µ–º–µ–Ω—Ç–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `NavigationService` –∫–ª–∞—Å—Å–∞:

```csharp
builder.RegisterType<NavigationService>().As<INavigationService>().SingleInstance();
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–π `INavigationService` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∞, —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `NavigationService` –æ–±—ä–µ–∫—Ç–∞ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–µ–≥–æ. –ù–∞ –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ `INavigationService` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ `NavigationService` –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª —Å–æ–∑–¥–∞–Ω —Ä–∞–Ω–µ–µ.

> [!NOTE]
> –û–±–ª–∞—Å—Ç—å SingleInstance —É–¥–∞–ª—è–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

Autofac –≤–∫–ª—é—á–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±–ª–∞—Å—Ç–∏. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è —Å–º. –≤ —Ä–∞–∑–¥–µ–ª–µ [–æ–±–ª–∞—Å—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä–∞](http://autofac.readthedocs.io/en/latest/lifetime/instance-scope.html) –Ω–∞ readthedocs.io.

## <a name="summary"></a>–°–≤–æ–¥–∫–∞

–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–¥–µ–ª–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏–∑ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —ç—Ç–∏—Ö —Ç–∏–ø–æ–≤. –û–±—ã—á–Ω–æ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–ª–∏ —Ä–∞—Å—à–∏—Ä—è—é—Ç —ç—Ç–∏ —Ç–∏–ø—ã.

Autofac –æ–±–ª–µ–≥—á–∞–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ª–∞–±–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∞ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –≤–∫–ª—é—á–∞—è –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –≤—Å—Ç–∞–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è.


## <a name="related-links"></a>–°–≤—è–∑–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–ó–∞–≥—Ä—É–∑–∏—Ç—å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –∫–Ω–∏–≥—É (2 –ú–ë –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF)](https://aka.ms/xamarinpatternsebook)
- [eShopOnContainers (GitHub) (–ø—Ä–∏–º–µ—Ä)](https://github.com/dotnet-architecture/eShopOnContainers)
